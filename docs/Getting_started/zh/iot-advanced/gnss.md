# GNSS应用指导说明

本文中对GNSS一些基础概念进行了简要说明，描述了如何使用 QuecPython 的`gnss`模块和`quecgnss`模块的功能来获取定位信息，同时包含了一些注意事项。



## 1. 基础概念说明

### 1.1 什么是GNSS

GNSS是指全球导航卫星系统（Global Navigation Satellite System），它是泛指所有的卫星导航系统。主要包括美国的全球定位系统（GPS）、欧洲的伽利略卫星导航系统（GALILEO）、俄罗斯的格洛纳斯卫星导航系统（GLONASS）、中国的北斗卫星导航系统（BDS）以及区域系统和增强系统。



### 1.2 什么是AGPS

AGPS是指辅助全球卫星定位系统（Assisted Global Positioning System）。它本身并不是一种定位系统，而是一种辅助定位的方式，用来加快定位速度。传统GPS定位中需要全频段搜索以找到可用卫星而导致耗时较长，而AGPS可以通过无线网络直接下载当前地区的可用卫星信息，提高了搜星的速度，也就加快了定位速度，同时起到了减少设备电量消耗的作用。



> 目前以下型号模组均内置GNSS定位功能，并默认都支持AGPS：
>
> EC200UCNAA/EC200UCNLA/EC200UEUAA/EC800MCNGA/EC800GCNGA/EG810MCNGA/EG915NEUAG



### 1.3 参考坐标系

坐标都是相对于某一参考系而言，才有意义，GNSS定位坐标也不例外。我们通过各种渠道获取到的经纬度坐标，很可能并不是同一个坐标系下的数据。如果想利用这些坐标在地图上做可视化相关功能，就需要经过计算转换为对应地图坐标系下的坐标。目前在中国比较常见的坐标系有：

| 坐标系 | 说明                                                         |
| ------ | ------------------------------------------------------------ |
| WGS-84 | 世界大地测量系统（World Geodetic System 1984），是全球通用的坐标系，也是使用最广泛的坐标系。一般GPS定位设备得到的经纬度坐标都是使用WGS-84坐标系。 |
| GCJ-02 | 由中国国家测绘局制定的地理信息系统的坐标系，也叫火星坐标系。它是由WGS-84坐标加密得到。国内的高德地图、腾讯地图使用的都是GCJ-02坐标系。 |
| BD-09  | 由百度开发定制的坐标系统，它是在GCJ-02坐标的基础上再次加密得到。百度地图使用的是BD-09坐标系。 |

通过上述说明，应明确一点，通过GNSS定位芯片拿到的经纬度坐标是WGS-84坐标系下的数据。在中国，如果用户需要将获取的经纬度坐标放到地图上显示位置，则需要将WGS-84坐标进行计算转换为该地图所使用坐标系下的坐标，才可用于在地图上拾取位置。



### 1.4 QuecPython `gnss`和`quecgnss`的区别

QuecPython 的内置库中，有`gnss`模块和`quecgnss`模块，都是和GNSS定位相关的功能模块。具体区别如下：

* `gnss` - 外置GNSS功能模块。

* `quecgnss` - 内置GNSS功能模块。

所谓的“内置”和“外置”，是相对模组而言。如果模组内部集成了GNSS定位功能，则为“内置”，须使用QuecPython的`quecgnss`模块来获取定位信息；如果模组是通过串口外接了L76K系列定位芯片，则为“外置”，须使用QuecPython的`gnss`模块来获取定位信息。



## 2. GNSS应用指导文档列表

* [外置GNSS功能应用指导](./external_gnss.md)

* [内置GNSS功能应用指导](./internal_gnss.md)
